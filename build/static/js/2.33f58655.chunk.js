(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{1866:function(e,t){e.exports=m,e.exports.parse=l,e.exports.compile=function(e,t){return r(l(e,t))},e.exports.tokensToFunction=r,e.exports.tokensToRegExp=s;var a="/",n=new RegExp(["(\\\\.)","(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?"].join("|"),"g");function l(e,t){for(var l,r=[],o=0,s=0,m="",u=t&&t.delimiter||a,d=t&&t.whitelist||void 0,p=!1;null!==(l=n.exec(e));){var f=l[0],h=l[1],b=l.index;if(m+=e.slice(s,b),s=b+f.length,h)m+=h[1],p=!0;else{var E="",v=l[2],g=l[3],y=l[4],M=l[5];if(!p&&m.length){var x=m.length-1,j=m[x];(!d||d.indexOf(j)>-1)&&(E=j,m=m.slice(0,x))}m&&(r.push(m),m="",p=!1);var O="+"===M||"*"===M,N="?"===M||"*"===M,C=g||y,A=E||u;r.push({name:v||o++,prefix:E,delimiter:A,optional:N,repeat:O,pattern:C?i(C):"[^"+c(A===u?A:A+u)+"]+?"})}}return(m||s<e.length)&&r.push(m+e.substr(s)),r}function r(e){for(var t=new Array(e.length),a=0;a<e.length;a++)"object"===typeof e[a]&&(t[a]=new RegExp("^(?:"+e[a].pattern+")$"));return function(a,n){for(var l="",r=n&&n.encode||encodeURIComponent,c=0;c<e.length;c++){var i=e[c];if("string"!==typeof i){var o,s=a?a[i.name]:void 0;if(Array.isArray(s)){if(!i.repeat)throw new TypeError('Expected "'+i.name+'" to not repeat, but got array');if(0===s.length){if(i.optional)continue;throw new TypeError('Expected "'+i.name+'" to not be empty')}for(var m=0;m<s.length;m++){if(o=r(s[m],i),!t[c].test(o))throw new TypeError('Expected all "'+i.name+'" to match "'+i.pattern+'"');l+=(0===m?i.prefix:i.delimiter)+o}}else if("string"!==typeof s&&"number"!==typeof s&&"boolean"!==typeof s){if(!i.optional)throw new TypeError('Expected "'+i.name+'" to be '+(i.repeat?"an array":"a string"))}else{if(o=r(String(s),i),!t[c].test(o))throw new TypeError('Expected "'+i.name+'" to match "'+i.pattern+'", but got "'+o+'"');l+=i.prefix+o}}else l+=i}return l}}function c(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function i(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function o(e){return e&&e.sensitive?"":"i"}function s(e,t,n){for(var l=(n=n||{}).strict,r=!1!==n.start,i=!1!==n.end,s=n.delimiter||a,m=[].concat(n.endsWith||[]).map(c).concat("$").join("|"),u=r?"^":"",d=0;d<e.length;d++){var p=e[d];if("string"===typeof p)u+=c(p);else{var f=p.repeat?"(?:"+p.pattern+")(?:"+c(p.delimiter)+"(?:"+p.pattern+"))*":p.pattern;t&&t.push(p),p.optional?p.prefix?u+="(?:"+c(p.prefix)+"("+f+"))?":u+="("+f+")?":u+=c(p.prefix)+"("+f+")"}}if(i)l||(u+="(?:"+c(s)+")?"),u+="$"===m?"$":"(?="+m+")";else{var h=e[e.length-1],b="string"===typeof h?h[h.length-1]===s:void 0===h;l||(u+="(?:"+c(s)+"(?="+m+"))?"),b||(u+="(?="+c(s)+"|"+m+")")}return new RegExp(u,o(n))}function m(e,t,a){return e instanceof RegExp?function(e,t){if(!t)return e;var a=e.source.match(/\((?!\?)/g);if(a)for(var n=0;n<a.length;n++)t.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,pattern:null});return e}(e,t):Array.isArray(e)?function(e,t,a){for(var n=[],l=0;l<e.length;l++)n.push(m(e[l],t,a).source);return new RegExp("(?:"+n.join("|")+")",o(a))}(e,t,a):function(e,t,a){return s(l(e,a),t,a)}(e,t,a)}},2647:function(e,t,a){"use strict";a.r(t);var n=a(12),l=a(13),r=a(15),c=a(14),i=a(16),o=a(0),s=a.n(o),m=a(4),u=a(20),d=a(19),p=a(290),f=a(1),h=a(59),b=a(109),E=a(9),v=a(53),g=a.n(v),y="[MAIL APP] GET MAILS",M="[MAIL APP] UPDATE MAILS",x="[MAILS] SELECT ALL MAILS",j="[MAILS] DESELECT ALL MAILS",O="[MAILS] TOGGLE IN SELECTED MAILS",N="[MAILS] SELECT MAILS BY PARAMETER",C="[MAILS] SET FOLDER ON SELECTED MAILS",A="[MAILS] TOGGLE LABEL ON SELECTED MAILS",w="[MAILS] SET SEARCH TEXT";function I(e){var t=g.a.get("/api/mail-app/mails",{params:e});return function(a){return t.then(function(t){return a({type:y,routeParams:e,payload:t.data})})}}function S(){return function(e,t){var a=t().mailApp.mails.routeParams;return g.a.get("/api/mail-app/mails",{params:a}).then(function(t){return e({type:M,payload:t.data})})}}function T(){return{type:x}}function k(){return{type:j}}function L(e,t){return{type:N,payload:{parameter:e,value:t}}}function D(e){return{type:O,mailId:e}}function P(e){return{type:w,searchText:e.target.value.toLowerCase()}}function G(e){return function(t,a){var n=a().mailApp.mails.selectedMailIds;return g.a.post("/api/mail-app/set-folder",{selectedMailIds:n,folderId:e}).then(function(e){return t({type:C}),t(S())})}}function R(e){return function(t,a){var n=a().mailApp.mails.selectedMailIds;return g.a.post("/api/mail-app/toggle-label",{selectedMailIds:n,labelId:e}).then(function(e){return t({type:A}),t(S())})}}var F=a(6),B="[MAIL APP] GET MAIL",H="[MAIL APP] UPDATE MAIL",U="[MAIL APP] TOGGLE STAR MAIL",W="[MAIL APP] TOGGLE IMPORTANT MAIL";function z(e){var t=g.a.get("/api/mail-app/mail",{params:e});return function(a){return t.then(function(t){return a({type:B,routeParams:e,payload:t.data})})}}function _(e){var t=Object(F.a)({},e,{starred:!e.starred});return function(e){return e({type:U}),e(q(t))}}function $(e){var t=Object(F.a)({},e,{important:!e.important});return function(e){return e({type:W}),e(q(t))}}function q(e){var t=g.a.post("/api/mail-app/update-mail",e);return function(e){return t.then(function(t){return e({type:H,payload:t.data})})}}var Q="[MAIL APP] GET FOLDERS";function J(){var e=g.a.get("/api/mail-app/folders");return function(t){return e.then(function(e){return t({type:Q,payload:e.data})})}}var V="[MAIL APP] GET LABELS";function X(){var e=g.a.get("/api/mail-app/labels");return function(t){return e.then(function(e){return t({type:V,payload:e.data})})}}var Y="[MAIL APP] GET FILTERS";function K(){var e=g.a.get("/api/mail-app/filters");return function(t){return e.then(function(e){return t({type:Y,payload:e.data})})}}var Z=a(5),ee=a.n(Z);var te=Object(h.withStyles)(function(e){return{root:{display:"flex",alignItems:"center",height:21,borderRadius:2,padding:"0 6px",fontSize:11,backgroundColor:"rgba(0,0,0,.08);"},color:{width:8,height:8,marginRight:4,borderRadius:"50%"}}},{withTheme:!0})(function(e){var t=e.classes,a=e.title,n=e.color,l=e.className;return s.a.createElement("div",{className:ee()(t.root,l)},s.a.createElement("div",{className:t.color,style:{backgroundColor:n}}),s.a.createElement("div",null,a))}),ae=a(1866);var ne=Object(h.withStyles)(function(e){return{mailItem:{borderBottom:"1px solid  "+e.palette.divider,"&.unread":{background:"rgba(0,0,0,0.03)"},"&.selected":{"&::after":{content:'""',position:"absolute",left:0,display:"block",height:"100%",width:3,backgroundColor:e.palette.primary.main}}},avatar:{backgroundColor:e.palette.primary[500]}}},{withTheme:!0})(Object(b.g)(Object(u.b)(function(e){var t=e.mailApp;return{selectedMailIds:t.mails.selectedMailIds,labels:t.labels}},function(e){return Object(d.c)({toggleInSelectedMails:D},e)})(function(e){var t=e.mail,a=e.labels,n=e.classes,l=e.match,r=e.history,c=e.selectedMailIds,i=e.toggleInSelectedMails,o=ae.compile(l.path),m=c.length>0&&void 0!==c.find(function(e){return e===t.id});return s.a.createElement(f.N,{dense:!0,button:!0,onClick:function(){return r.push(o(Object(F.a)({},l.params,{mailId:t.id})))},className:ee()(n.mailItem,m&&"selected",!t.read&&"unread","py-16 pl-0 pr-8 sm:pl-8 sm:pr-24")},s.a.createElement(f.h,{tabIndex:-1,disableRipple:!0,checked:m,onChange:function(){return i(t.id)},onClick:function(e){return e.stopPropagation()}}),s.a.createElement("div",{className:"flex flex-1 flex-col relative overflow-hidden"},s.a.createElement("div",{className:"flex items-center justify-between px-16 pb-8"},s.a.createElement("div",{className:"flex items-center"},t.from.avatar?s.a.createElement(f.b,{className:"mr-8",alt:t.from.name,src:t.from.avatar}):s.a.createElement(f.b,{className:ee()(n.avatar,"mr-8")},t.from.name[0]),s.a.createElement(f.vb,{variant:"subtitle1"},t.from.name)),s.a.createElement(f.vb,{variant:"subtitle1"},t.time)),s.a.createElement("div",{className:"flex flex-col px-16 py-0"},s.a.createElement(f.vb,{className:"truncate"},t.subject),s.a.createElement(f.vb,{color:"textSecondary",className:"truncate"},E.a.truncate(t.message.replace(/<(?:.|\n)*?>/gm,""),{length:180}))),s.a.createElement("div",{className:"flex justify-end"},a&&t.labels.map(function(e){return s.a.createElement(te,{className:"mr-4",title:E.a.find(a,{id:e}).title,color:E.a.find(a,{id:e}).color,key:e})}))))}))),le=function(e){function t(){var e,a;Object(n.a)(this,t);for(var l=arguments.length,i=new Array(l),o=0;o<l;o++)i[o]=arguments[o];return(a=Object(r.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(i)))).getFilteredArray=function(e,t){var a=Object.keys(e).map(function(t){return e[t]});return 0===t.length?a:m.A.filterArrayByString(a,t)},a}return Object(i.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.getMails(this.props.match.params)}},{key:"componentDidUpdate",value:function(e,t){E.a.isEqual(this.props.location,e.location)||this.props.getMails(this.props.match.params)}},{key:"render",value:function(){var e=this.props,t=e.mails,a=e.searchText,n=this.getFilteredArray(t,a);return 0===n.length?s.a.createElement(m.d,{delay:100},s.a.createElement("div",{className:"flex flex-1 items-center justify-center h-full"},s.a.createElement(f.vb,{color:"textSecondary",variant:"h5"},"There are no messages!"))):s.a.createElement(f.M,{className:"p-0"},s.a.createElement(m.e,{enter:{animation:"transition.slideUpBigIn"}},n.map(function(e){return s.a.createElement(ne,{mail:e,key:e.id})})))}}]),t}(o.Component);var re=Object(h.withStyles)(function(e){return{avatar:{backgroundColor:e.palette.primary[500]}}},{withTheme:!0})(Object(b.g)(Object(u.b)(function(e){var t=e.mailApp;return{mails:t.mails.entities,searchText:t.mails.searchText}},function(e){return Object(d.c)({getMails:I},e)})(le))),ce=function(e){function t(){var e,a;Object(n.a)(this,t);for(var l=arguments.length,i=new Array(l),o=0;o<l;o++)i[o]=arguments[o];return(a=Object(r.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(i)))).state={showDetails:!1},a}return Object(i.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.getMail(this.props.match.params)}},{key:"render",value:function(){var e=this,t=this.props,a=t.mail,n=t.labels;return a?s.a.createElement("div",{className:"p-16 sm:p-24"},s.a.createElement("div",{className:"flex items-center justify-between overflow-hidden"},s.a.createElement("div",{className:"flex flex-col"},s.a.createElement(m.d,{delay:100},s.a.createElement(f.vb,{variant:"subtitle1",className:"flex"},a.subject)),n&&a.labels.length>0&&s.a.createElement("div",{className:"flex flex-wrap mt-8"},a.labels.map(function(e){return s.a.createElement(te,{className:"mt-4 mr-4",title:E.a.find(n,{id:e}).title,color:E.a.find(n,{id:e}).color,key:e})})))),s.a.createElement(f.q,{className:"my-16"}),s.a.createElement(m.d,{animation:"transition.slideUpIn",delay:200},s.a.createElement("div",null,s.a.createElement("div",{className:"flex items-start justify-between"},s.a.createElement("div",{className:"flex items-center justify-start"},a.from.avatar?s.a.createElement(f.b,{className:"mr-8",alt:a.from.name,src:a.from.avatar}):s.a.createElement(f.b,{className:"mr-8"},a.from.name[0]),s.a.createElement("div",{className:"flex flex-col"},s.a.createElement("span",null,a.from.name),s.a.createElement(f.vb,{component:"div",color:"textSecondary",variant:"body1",className:"flex items-center justify-start"},s.a.createElement("div",null,"to"),s.a.createElement("div",{className:"ml-4"},a.to[0].name)))),s.a.createElement(f.H,null,s.a.createElement(f.G,null,"more_vert"))),s.a.createElement("div",{className:"my-16"},s.a.createElement(f.vb,{color:"primary",className:"cursor-pointer underline mb-8",onClick:function(){e.setState({showDetails:!e.state.showDetails})}},this.state.showDetails?s.a.createElement("span",null,"Hide Details"):s.a.createElement("span",null,"Show Details")),this.state.showDetails&&s.a.createElement("div",{className:"flex"},s.a.createElement(f.vb,{variant:"body2",className:"flex flex-col"},s.a.createElement("span",null,"From:"),s.a.createElement("span",null,"To:"),s.a.createElement("span",null,"Date:")),s.a.createElement(f.vb,{variant:"body2",color:"textSecondary",className:"pl-4 flex flex-col"},s.a.createElement("span",null,a.from.email),s.a.createElement("span",null,a.to[0].email),s.a.createElement("span",null,a.time)))),s.a.createElement(f.vb,{variant:"body2",dangerouslySetInnerHTML:{__html:a.message}}),s.a.createElement(f.q,{className:"my-16"}),a.attachments&&s.a.createElement("div",null,s.a.createElement(f.vb,{variant:"subtitle1",className:"mb-16"},s.a.createElement("span",null,"Attachments"),s.a.createElement("span",{className:"ml-4"},"(",a.attachments.length,")")),s.a.createElement("div",{className:"flex flex-wrap"},a.attachments.map(function(e){return s.a.createElement("div",{className:"w-192 pr-16 pb-16",key:e.fileName},s.a.createElement("img",{className:"w-full rounded-4",src:e.preview,alt:e.fileName}),s.a.createElement("div",{className:"flex flex-col"},s.a.createElement(f.vb,{color:"primary",className:"underline cursor-pointer",onClick:function(e){return e.preventDefault()}},"View"),s.a.createElement(f.vb,{color:"primary",className:"underline cursor-pointer",onClick:function(e){return e.preventDefault()}},"Download"),s.a.createElement(f.vb,null,"(",e.size,")")))})))))):""}}]),t}(o.Component);var ie=Object(b.g)(Object(u.b)(function(e){var t=e.mailApp;return{mail:t.mail,labels:t.labels}},function(e){return Object(d.c)({getMail:z},e)})(ce)),oe=a(36),se=function(e){function t(){var e,a;Object(n.a)(this,t);for(var l=arguments.length,i=new Array(l),o=0;o<l;o++)i[o]=arguments[o];return(a=Object(r.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(i)))).state={selectMenu:null,foldersMenu:null,labelsMenu:null},a.handleMenuOpen=function(e,t){a.setState(Object(oe.a)({},t,e.currentTarget))},a.handleMenuClose=function(e,t){a.setState(Object(oe.a)({},t,null))},a.handleChange=function(){return function(e){e.target.checked?a.props.selectAllMails():a.props.deselectAllMails()}},a}return Object(i.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.mails,n=t.selectAllMails,l=t.deselectAllMails,r=t.selectMailsByParameter,c=t.setFolderOnSelectedMails,i=t.toggleLabelOnSelectedMails,o=t.folders,m=t.labels,u=t.selectedMailIds,d=this.state,p=d.foldersMenu,h=d.selectMenu,b=d.labelsMenu;return s.a.createElement("div",{className:"flex flex-1 items-center sm:px-8"},s.a.createElement(f.h,{onChange:this.handleChange(),checked:u.length===Object.keys(a).length&&u.length>0,indeterminate:u.length!==Object.keys(a).length&&u.length>0}),s.a.createElement(f.H,{className:"w-24","aria-label":"More","aria-owns":h?"select-menu":null,"aria-haspopup":"true",onClick:function(t){return e.handleMenuOpen(t,"selectMenu")}},s.a.createElement(f.G,null,"arrow_drop_down")),s.a.createElement(f.S,{id:"select-menu",anchorEl:h,open:Boolean(h),onClose:function(t){return e.handleMenuClose(t,"selectMenu")}},s.a.createElement(f.T,{onClick:function(t){n(),e.handleMenuClose(t,"selectMenu")}},"All"),s.a.createElement(f.T,{onClick:function(t){l(),e.handleMenuClose(t,"selectMenu")}},"None"),s.a.createElement(f.T,{onClick:function(t){r("read",!0),e.handleMenuClose(t,"selectMenu")}},"Read"),s.a.createElement(f.T,{onClick:function(t){r("read",!1),e.handleMenuClose(t,"selectMenu")}},"Unread"),s.a.createElement(f.T,{onClick:function(t){r("starred",!0),e.handleMenuClose(t,"selectMenu")}},"Starred"),s.a.createElement(f.T,{onClick:function(t){r("starred",!1),e.handleMenuClose(t,"selectMenu")}},"Unstarred"),s.a.createElement(f.T,{onClick:function(t){r("important",!0),e.handleMenuClose(t,"selectMenu")}},"Important"),s.a.createElement(f.T,{onClick:function(t){r("important",!1),e.handleMenuClose(t,"selectMenu")}},"Unimportant")),u.length>0&&s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"border-r-1 h-48 w-1 mx-12 my-0"}),s.a.createElement(f.H,{onClick:function(e){return c(4)},"aria-label":"Delete"},s.a.createElement(f.G,null,"delete")),s.a.createElement(f.H,{"aria-label":"More","aria-owns":p?"folders-menu":null,"aria-haspopup":"true",onClick:function(t){return e.handleMenuOpen(t,"foldersMenu")}},s.a.createElement(f.G,null,"folder")),s.a.createElement(f.S,{id:"folders-menu",anchorEl:p,open:Boolean(p),onClose:function(t){return e.handleMenuClose(t,"foldersMenu")}},o.length>0&&o.map(function(t){return s.a.createElement(f.T,{onClick:function(a){c(t.id),e.handleMenuClose(a,"foldersMenu")},key:t.id},t.title)})),s.a.createElement(f.H,{"aria-label":"More","aria-owns":b?"labels-menu":null,"aria-haspopup":"true",onClick:function(t){return e.handleMenuOpen(t,"labelsMenu")}},s.a.createElement(f.G,null,"label")),s.a.createElement(f.S,{id:"folders-menu",anchorEl:b,open:Boolean(b),onClose:function(t){return e.handleMenuClose(t,"labelsMenu")}},m.length>0&&m.map(function(t){return s.a.createElement(f.T,{onClick:function(a){i(t.id),e.handleMenuClose(a,"labelsMenu")},key:t.id},t.title)}))))}}]),t}(o.Component);var me=Object(b.g)(Object(u.b)(function(e){var t=e.mailApp;return{mails:t.mails.entities,selectedMailIds:t.mails.selectedMailIds,folders:t.folders,labels:t.labels,filters:t.filters}},function(e){return Object(d.c)({selectAllMails:T,deselectAllMails:k,selectMailsByParameter:L,setFolderOnSelectedMails:G,toggleLabelOnSelectedMails:R},e)})(se)),ue=a(1866);var de=Object(b.g)(Object(u.b)(function(e){return{mail:e.mailApp.mail}},function(e){return Object(d.c)({toggleStar:_,toggleImportant:$},e)})(function(e){e.classes;var t=e.mail,a=e.match,n=e.history,l=e.toggleStar,r=e.toggleImportant,c=a.params,i=ue.compile(a.path),o=Object(F.a)({},c);delete o.mailId;var u=i(o);return t?s.a.createElement("div",{className:"flex flex-1 items-center justify-between overflow-hidden sm:px-16"},s.a.createElement(f.H,{onClick:function(){return n.push(u)}},s.a.createElement(f.G,null,"arrow_back")),s.a.createElement("div",{className:"flex items-center justify-start","aria-label":"Toggle star"},s.a.createElement(m.d,{animation:"transition.expandIn",delay:100},s.a.createElement(f.H,{onClick:function(){return l(t)}},t.starred?s.a.createElement(f.G,null,"star"):s.a.createElement(f.G,null,"star_border"))),s.a.createElement(m.d,{animation:"transition.expandIn",delay:100},s.a.createElement(f.H,{onClick:function(){return r(t)}},t.important?s.a.createElement(f.G,null,"label"):s.a.createElement(f.G,null,"label_outline"))))):null}));var pe=Object(u.b)(function(e){var t=e.mailApp,a=e.fuse;return{searchText:t.mails.searchText,mainTheme:a.settings.mainTheme}},function(e){return Object(d.c)({setSearchText:P},e)})(function(e){var t=e.setSearchText,a=e.searchText,n=e.pageLayout,l=e.mainTheme;return s.a.createElement(h.MuiThemeProvider,{theme:l},s.a.createElement("div",{className:"flex flex-1"},s.a.createElement(f.W,{className:"flex items-center w-full h-48 sm:h-56 p-16 pl-4 md:pl-16 rounded-8 ",elevation:1},s.a.createElement(f.F,{lgUp:!0},s.a.createElement(f.H,{onClick:function(e){return n().toggleLeftSidebar()},"aria-label":"open left sidebar"},s.a.createElement(f.G,null,"menu"))),s.a.createElement(f.G,{color:"action"},"search"),s.a.createElement(f.I,{placeholder:"Search",className:"pl-16",disableUnderline:!0,fullWidth:!0,value:a,inputProps:{"aria-label":"Search"},onChange:t}))))}),fe=function(e){function t(){var e,a;Object(n.a)(this,t);for(var l=arguments.length,i=new Array(l),o=0;o<l;o++)i[o]=arguments[o];return(a=Object(r.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(i)))).state={selectedAccount:"creapond"},a.onAccountChange=function(e){a.setState({selectedAccount:e.target.value})},a.accounts={creapond:"johndoe@creapond.com",withinpixels:"johndoe@withinpixels.com"},a}return Object(i.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"flex flex-col justify-center h-full p-24"},s.a.createElement("div",{className:"flex items-center flex-1"},s.a.createElement(m.d,{animation:"transition.expandIn",delay:300},s.a.createElement(f.G,{className:"mr-16 text-32"},"mail")),s.a.createElement(m.d,{animation:"transition.slideLeftIn",delay:300},s.a.createElement("span",{className:"text-24"},"Mailbox"))),s.a.createElement(m.d,{animation:"transition.slideUpIn",delay:300},s.a.createElement(f.sb,{id:"account-selection",select:!0,label:this.state.selectedAccount,value:this.state.selectedAccount,onChange:this.onAccountChange,placeholder:"Select Account",margin:"normal"},Object.keys(this.accounts).map(function(t,a){return s.a.createElement(f.T,{key:t,value:t},e.accounts[t])}))))}}]),t}(o.Component),he=a(26),be=Object(h.withStyles)(function(e){return{root:{fontSize:13,backgroundColor:"rgba(0, 0, 0, 0.08)",border:"1px solid rgba(0, 0, 0, 0.16)",paddingLeft:16,marginBottom:8,borderRadius:2,display:"flex",justifyContent:"space-between",alignItems:"center"},filename:{fontWeight:600},size:{marginLeft:8,fontWeight:300}}},{withTheme:!0})(function(e){var t=e.classes,a=e.className,n=e.fileName,l=e.size;return s.a.createElement("div",{className:ee()(t.root,a)},s.a.createElement("div",{className:"flex"},s.a.createElement(f.vb,{variant:"caption",className:t.filename},n),s.a.createElement(f.vb,{variant:"caption",className:t.size},"(",l,")")),s.a.createElement(f.H,null,s.a.createElement(f.G,{className:"text-16"},"close")))}),Ee=function(e){function t(){var e,a;Object(n.a)(this,t);for(var l=arguments.length,i=new Array(l),o=0;o<l;o++)i[o]=arguments[o];return(a=Object(r.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(i)))).state={composeDialog:!1,from:"johndoe@creapond.com",to:"",cc:"",bcc:"",subject:"",message:""},a.openComposeDialog=function(){a.setState({composeDialog:!0})},a.closeComposeDialog=function(){a.setState({composeDialog:!1})},a.handleChange=function(e){a.setState(E.a.set(Object(F.a)({},a.state),e.target.name,"checkbox"===e.target.type?e.target.checked:e.target.value))},a}return Object(i.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"p-24"},s.a.createElement(f.c,{variant:"contained",color:"primary",className:"w-full",onClick:this.openComposeDialog},"COMPOSE"),s.a.createElement(f.l,{open:this.state.composeDialog,onClose:this.closeComposeDialog,"aria-labelledby":"form-dialog-title"},s.a.createElement(f.a,{position:"static"},s.a.createElement(f.tb,{className:"flex w-full"},s.a.createElement(f.vb,{variant:"subtitle1",color:"inherit"},"New Message"))),s.a.createElement(f.n,{classes:{root:"p-16 pb-0 sm:p-24 sm:pb-0"}},s.a.createElement(f.sb,{className:"mt-8 mb-16",label:"From",id:"from",name:"from",value:this.state.from,onChange:this.handleChange,variant:"outlined",fullWidth:!0,disabled:!0}),s.a.createElement(f.sb,{className:"mt-8 mb-16",label:"To",autoFocus:!0,id:"to",name:"to",value:this.state.to,onChange:this.handleChange,variant:"outlined",fullWidth:!0,required:!0}),s.a.createElement(f.sb,{className:"mt-8 mb-16",label:"Cc",id:"cc",name:"cc",value:this.state.cc,onChange:this.handleChange,variant:"outlined",fullWidth:!0}),s.a.createElement(f.sb,{className:"mt-8 mb-16",label:"Bcc",id:"bcc",name:"bcc",value:this.state.bcc,onChange:this.handleChange,variant:"outlined",fullWidth:!0}),s.a.createElement(f.sb,{className:"mt-8 mb-16",label:"Subject",id:"subject",name:"subject",value:this.state.subject,onChange:this.handleChange,variant:"outlined",fullWidth:!0}),s.a.createElement(f.sb,{className:"mt-8 mb-16",id:"message",name:"message",onChange:this.handleChange,label:"Message",type:"text",multiline:!0,rows:5,variant:"outlined",fullWidth:!0}),s.a.createElement("div",{className:"pt-8"},s.a.createElement(be,{fileName:"attachment-2.doc",size:"12 kb"}),s.a.createElement(be,{fileName:"attachment-1.jpg",size:"350 kb"}))),s.a.createElement(f.m,{className:"justify-between pl-8 sm:pl-16"},s.a.createElement("div",null,s.a.createElement(f.c,{variant:"contained",color:"primary",onClick:this.closeComposeDialog},"Send"),s.a.createElement(f.H,null,s.a.createElement(f.G,null,"attach_file"))),s.a.createElement(f.H,{onClick:this.closeComposeDialog},s.a.createElement(f.G,null,"delete")))))}}]),t}(o.Component);var ve=Object(h.withStyles)(function(e){return{listItem:{color:"inherit!important",textDecoration:"none!important",height:40,width:"calc(100% - 16px)",borderRadius:"0 20px 20px 0",paddingLeft:24,paddingRight:12,"&.active":{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText+"!important",pointerEvents:"none","& .list-item-icon":{color:"inherit"}},"& .list-item-icon":{fontSize:16,width:16,height:16}}}},{withTheme:!0})(Object(b.g)(Object(u.b)(function(e){var t=e.mailApp;return{folders:t.folders,labels:t.labels,filters:t.filters}})(function(e){var t=e.classes,a=e.folders,n=e.filters,l=e.labels;return s.a.createElement(m.d,{animation:"transition.slideUpIn",delay:400},s.a.createElement("div",{className:"flex-auto border-l-1"},s.a.createElement(Ee,null),s.a.createElement("div",null,s.a.createElement(f.M,null,s.a.createElement(f.R,{className:t.listSubheader,disableSticky:!0},"FOLDERS"),a.length>0&&a.map(function(e){return s.a.createElement(f.N,{button:!0,component:he.b,to:"/apps/mail/"+e.handle,key:e.id,activeClassName:"active",className:t.listItem},s.a.createElement(f.G,{className:"list-item-icon",color:"action"},e.icon),s.a.createElement(f.Q,{primary:e.title,disableTypography:!0}))})),s.a.createElement(f.M,null,s.a.createElement(f.R,{className:t.listSubheader,disableSticky:!0},"FILTERS"),n.length>0&&n.map(function(e){return s.a.createElement(f.N,{button:!0,component:he.b,to:"/apps/mail/filter/"+e.handle,activeClassName:"active",className:t.listItem,key:e.id},s.a.createElement(f.G,{className:"list-item-icon",color:"action"},e.icon),s.a.createElement(f.Q,{primary:e.title,disableTypography:!0}))})),s.a.createElement(f.M,null,s.a.createElement(f.R,{className:"pr-24 pl-24",disableSticky:!0},"LABELS"),l&&l.map(function(e){return s.a.createElement(f.N,{button:!0,component:he.b,to:"/apps/mail/label/"+e.handle,key:e.id,className:t.listItem},s.a.createElement(f.G,{className:"list-item-icon",style:{color:e.color},color:"action"},"label"),s.a.createElement(f.Q,{primary:e.title,disableTypography:!0}))})))))}))),ge=a(18),ye={entities:[],routeParams:{},selectedMailIds:[],searchText:""},Me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(F.a)({},e,{entities:E.a.keyBy(t.payload,"id"),searchText:"",routeParams:t.routeParams});case M:return Object(F.a)({},e,{entities:E.a.keyBy(t.payload,"id")});case x:var a=Object.keys(e.entities).map(function(t){return e.entities[t]}).map(function(e){return e.id});return Object(F.a)({},e,{selectedMailIds:a});case j:return Object(F.a)({},e,{selectedMailIds:[]});case N:var n=t.payload,l=Object.keys(e.entities).map(function(t){return e.entities[t]}).filter(function(e){return e[n.parameter]===n.value}).map(function(e){return e.id});return Object(F.a)({},e,{selectedMailIds:l});case O:var r=t.mailId,c=Object(ge.a)(e.selectedMailIds);return c=void 0!==c.find(function(e){return e===r})?c.filter(function(e){return e!==r}):[].concat(Object(ge.a)(c),[r]),Object(F.a)({},e,{selectedMailIds:c});case w:return Object(F.a)({},e,{searchText:t.searchText});default:return e}},xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"[MAIL APP] GET MAIL":case H:return Object(F.a)({},t.payload);default:return e}},je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Q:return Object(ge.a)(t.payload);default:return e}},Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V:return Object(ge.a)(t.payload);default:return e}},Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y:return Object(ge.a)(t.payload);default:return e}},Ce=Object(d.d)({mails:Me,mail:xe,folders:je,labels:Oe,filters:Ne}),Ae=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.getFilters(),this.props.getFolders(),this.props.getLabels()}},{key:"render",value:function(){var e=this,t=this.props.match.params;return s.a.createElement(m.r,{classes:{root:"w-full",content:"flex flex-col",header:"items-center min-h-72 h-72 sm:h-136 sm:min-h-136"},header:s.a.createElement(pe,{pageLayout:function(){return e.pageLayout}}),contentToolbar:t.mailId?s.a.createElement(de,null):s.a.createElement(me,null),content:t.mailId?s.a.createElement(ie,null):s.a.createElement(re,null),leftSidebarHeader:s.a.createElement(fe,null),leftSidebarContent:s.a.createElement(ve,null),onRef:function(t){e.pageLayout=t},innerScroll:!0})}}]),t}(o.Component);t.default=Object(p.a)("mailApp",Ce)(Object(u.b)(null,function(e){return Object(d.c)({getFilters:K,getFolders:J,getLabels:X},e)})(Ae))}}]);