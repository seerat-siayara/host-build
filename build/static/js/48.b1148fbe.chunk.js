(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{1767:function(e,t,a){"use strict";var n=a(53),r=a.n(n),i="[E-COMMERCE APP] GET PRODUCTS",l="[E-COMMERCE APP] SET PRODUCTS SEARCH TEXT";function c(){var e=r.a.get("/api/e-commerce-app/products");return function(t){return e.then(function(e){return t({type:i,payload:e.data})})}}function o(e){return{type:l,searchText:e.target.value}}var s=a(4),u=a(50),d="[E-COMMERCE APP] GET PRODUCT",m="[E-COMMERCE APP] SAVE PRODUCT";function p(e){var t=r.a.get("/api/e-commerce-app/product",{params:e});return function(e){return t.then(function(t){return e({type:d,payload:t.data})})}}function h(e){var t=r.a.post("/api/e-commerce-app/product/save",e);return function(e){return t.then(function(t){return e(Object(u.H)({message:"Product Saved"})),e({type:m,payload:t.data})})}}function f(){var e={id:s.A.generateGUID(),name:"",handle:"",description:"",categories:[],tags:[],images:[],priceTaxExcl:0,priceTaxIncl:0,taxRate:0,comparedPrice:0,quantity:0,sku:"",width:"",height:"",depth:"",weight:"",extraShippingFee:0,active:!0};return{type:d,payload:e}}var g="[E-COMMERCE APP] GET ORDERS",b="[E-COMMERCE APP] SET ORDERS SEARCH TEXT";function E(){var e=r.a.get("/api/e-commerce-app/orders");return function(t){return e.then(function(e){return t({type:g,payload:e.data})})}}function v(e){return{type:b,searchText:e.target.value}}var C="[E-COMMERCE APP] GET ORDER",x="[E-COMMERCE APP] SAVE ORDER";function y(e){var t=r.a.get("/api/e-commerce-app/order",{params:e});return function(e){return t.then(function(t){return e({type:C,payload:t.data})})}}function P(e){var t=r.a.post("/api/e-commerce-app/order/save",e);return function(e){return t.then(function(t){return e(Object(u.H)({message:"Order Saved"})),e({type:x,payload:t.data})})}}a.d(t,"d",function(){return i}),a.d(t,"h",function(){return l}),a.d(t,"l",function(){return c}),a.d(t,"q",function(){return o}),a.d(t,"c",function(){return d}),a.d(t,"f",function(){return m}),a.d(t,"k",function(){return p}),a.d(t,"o",function(){return h}),a.d(t,"m",function(){return f}),a.d(t,"b",function(){return g}),a.d(t,"g",function(){return b}),a.d(t,"j",function(){return E}),a.d(t,"p",function(){return v}),a.d(t,"a",function(){return C}),a.d(t,"e",function(){return x}),a.d(t,"i",function(){return y}),a.d(t,"n",function(){return P})},1782:function(e,t,a){"use strict";var n=a(19),r=a(6),i=a(1767),l={data:[],searchText:""},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.d:return Object(r.a)({},e,{data:t.payload});case i.h:return Object(r.a)({},e,{searchText:t.searchText});default:return e}},o={data:null},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.c:case i.f:return Object(r.a)({},e,{data:t.payload});default:return e}},u={data:[],searchText:""},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.b:return Object(r.a)({},e,{data:t.payload});case i.g:return Object(r.a)({},e,{searchText:t.searchText});default:return e}},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.a:case i.e:return Object(r.a)({},t.payload);default:return e}},p=Object(n.d)({products:c,product:s,orders:d,order:m});t.a=p},2535:function(e,t,a){"use strict";a.r(t);var n=a(6),r=a(12),i=a(13),l=a(15),c=a(14),o=a(16),s=a(0),u=a.n(s),d=a(1),m=a(59),p=a(4),h=a(70),f=a(26),g=a(109),b=a(19),E=a(27),v=a(5),C=a.n(v),x=a(9),y=a(290),P=a(1767),w=a(1782),S=function(e){function t(){var e,a;Object(r.a)(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(o)))).state={tabValue:0,form:null},a.updateFormState=function(){a.setState({form:a.props.product.data})},a.updateProductState=function(){"new"===a.props.match.params.productId?a.props.newProduct():a.props.getProduct(a.props.match.params)},a.handleChangeTab=function(e,t){a.setState({tabValue:t})},a.handleChange=function(e){a.setState({form:x.a.set(Object(n.a)({},a.state.form),e.target.name,"checkbox"===e.target.type?e.target.checked:e.target.value)})},a.handleChipChange=function(e,t){a.setState({form:x.a.set(Object(n.a)({},a.state.form),t,e.map(function(e){return e.value}))})},a.setFeaturedImage=function(e){a.setState({form:x.a.set(Object(n.a)({},a.state.form),"featuredImageId",e)})},a}return Object(o.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.updateProductState()}},{key:"componentDidUpdate",value:function(e,t,a){x.a.isEqual(this.props.location,e.location)||this.updateProductState(),(this.props.product.data&&!this.state.form||this.props.product.data&&this.state.form&&this.props.product.data.id!==this.state.form.id)&&this.updateFormState()}},{key:"canBeSubmitted",value:function(){return this.state.form.name.length>0&&!x.a.isEqual(this.props.product.data,this.state.form)}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.saveProduct,r=this.state,i=r.tabValue,l=r.form;return u.a.createElement(p.r,{classes:{toolbar:"p-0",header:"min-h-72 h-72 sm:h-136 sm:min-h-136"},header:l&&u.a.createElement("div",{className:"flex flex-1 w-full items-center justify-between"},u.a.createElement("div",{className:"flex flex-col items-start max-w-full"},u.a.createElement(p.d,{animation:"transition.slideRightIn",delay:300},u.a.createElement(d.vb,{className:"normal-case flex items-center sm:mb-12",component:f.a,role:"button",to:"/apps/e-commerce/products"},u.a.createElement(d.G,{className:"mr-4 text-20"},"arrow_back"),"Products")),u.a.createElement("div",{className:"flex items-center max-w-full"},u.a.createElement(p.d,{animation:"transition.expandIn",delay:300},l.images.length>0?u.a.createElement("img",{className:"w-32 sm:w-48 mr-8 sm:mr-16 rounded",src:x.a.find(l.images,{id:l.featuredImageId}).url,alt:l.name}):u.a.createElement("img",{className:"w-32 sm:w-48 mr-8 sm:mr-16 rounded",src:"assets/images/ecommerce/product-image-placeholder.png",alt:l.name})),u.a.createElement("div",{className:"flex flex-col min-w-0"},u.a.createElement(p.d,{animation:"transition.slideLeftIn",delay:300},u.a.createElement(d.vb,{className:"text-16 sm:text-20 truncate"},l.name?l.name:"New Product")),u.a.createElement(p.d,{animation:"transition.slideLeftIn",delay:300},u.a.createElement(d.vb,{variant:"caption"},"Product Detail"))))),u.a.createElement(p.d,{animation:"transition.slideRightIn",delay:300},u.a.createElement(d.c,{className:"whitespace-no-wrap",variant:"contained",disabled:!this.canBeSubmitted(),onClick:function(){return n(l)}},"Save"))),contentToolbar:u.a.createElement(d.rb,{value:i,onChange:this.handleChangeTab,indicatorColor:"secondary",textColor:"secondary",variant:"scrollable",scrollButtons:"auto",classes:{root:"w-full h-64"}},u.a.createElement(d.jb,{className:"h-64 normal-case",label:"Basic Info"}),u.a.createElement(d.jb,{className:"h-64 normal-case",label:"Product Images"}),u.a.createElement(d.jb,{className:"h-64 normal-case",label:"Pricing"}),u.a.createElement(d.jb,{className:"h-64 normal-case",label:"Inventory"}),u.a.createElement(d.jb,{className:"h-64 normal-case",label:"Shipping"})),content:l&&u.a.createElement("div",{className:"p-16 sm:p-24 max-w-2xl"},0===i&&u.a.createElement("div",null,u.a.createElement(d.sb,{className:"mt-8 mb-16",error:""===l.name,required:!0,label:"Name",autoFocus:!0,id:"name",name:"name",value:l.name,onChange:this.handleChange,variant:"outlined",fullWidth:!0}),u.a.createElement(d.sb,{className:"mt-8 mb-16",id:"description",name:"description",onChange:this.handleChange,label:"Description",type:"text",value:l.description,multiline:!0,rows:5,variant:"outlined",fullWidth:!0}),u.a.createElement(p.g,{className:"mt-8 mb-24",value:l.categories.map(function(e){return{value:e,label:e}}),onChange:function(t){return e.handleChipChange(t,"categories")},placeholder:"Select multiple categories",textFieldProps:{label:"Categories",InputLabelProps:{shrink:!0},variant:"outlined"},isMulti:!0}),u.a.createElement(p.g,{className:"mt-8 mb-16",value:l.tags.map(function(e){return{value:e,label:e}}),onChange:function(t){return e.handleChipChange(t,"tags")},placeholder:"Select multiple tags",textFieldProps:{label:"Tags",InputLabelProps:{shrink:!0},variant:"outlined"},isMulti:!0})),1===i&&u.a.createElement("div",null,u.a.createElement("div",{className:"flex justify-center sm:justify-start flex-wrap"},l.images.map(function(t){return u.a.createElement("div",{onClick:function(){return e.setFeaturedImage(t.id)},className:C()(a.productImageItem,"flex items-center justify-center relative w-128 h-128 rounded-4 mr-16 mb-16 overflow-hidden cursor-pointer",t.id===l.featuredImageId&&"featured"),key:t.id},u.a.createElement(d.G,{className:a.productImageFeaturedStar},"star"),u.a.createElement("img",{className:"max-w-none w-auto h-full",src:t.url,alt:"product"}))}))),2===i&&u.a.createElement("div",null,u.a.createElement(d.sb,{className:"mt-8 mb-16",label:"Tax Excluded Price",id:"priceTaxExcl",name:"priceTaxExcl",value:l.priceTaxExcl,onChange:this.handleChange,InputProps:{startAdornment:u.a.createElement(d.J,{position:"start"},"$")},type:"number",variant:"outlined",autoFocus:!0,fullWidth:!0}),u.a.createElement(d.sb,{className:"mt-8 mb-16",label:"Tax Included Price",id:"priceTaxIncl",name:"priceTaxIncl",value:l.priceTaxIncl,onChange:this.handleChange,InputProps:{startAdornment:u.a.createElement(d.J,{position:"start"},"$")},type:"number",variant:"outlined",fullWidth:!0}),u.a.createElement(d.sb,{className:"mt-8 mb-16",label:"Tax Rate",id:"taxRate",name:"taxRate",value:l.taxRate,onChange:this.handleChange,InputProps:{startAdornment:u.a.createElement(d.J,{position:"start"},"$")},type:"number",variant:"outlined",fullWidth:!0}),u.a.createElement(d.sb,{className:"mt-8 mb-16",label:"Compared Price",id:"comparedPrice",name:"comparedPrice",value:l.comparedPrice,onChange:this.handleChange,InputProps:{startAdornment:u.a.createElement(d.J,{position:"start"},"$")},type:"number",variant:"outlined",fullWidth:!0,helperText:"Add a compare price to show next to the real price"})),3===i&&u.a.createElement("div",null,u.a.createElement(d.sb,{className:"mt-8 mb-16",required:!0,label:"SKU",autoFocus:!0,id:"sku",name:"sku",value:l.sku,onChange:this.handleChange,variant:"outlined",fullWidth:!0}),u.a.createElement(d.sb,{className:"mt-8 mb-16",label:"Quantity",id:"quantity",name:"quantity",value:l.quantity,onChange:this.handleChange,variant:"outlined",type:"number",fullWidth:!0})),4===i&&u.a.createElement("div",null,u.a.createElement("div",{className:"flex"},u.a.createElement(d.sb,{className:"mt-8 mb-16 mr-8",label:"Width",autoFocus:!0,id:"width",name:"width",value:l.width,onChange:this.handleChange,variant:"outlined",fullWidth:!0}),u.a.createElement(d.sb,{className:"mt-8 mb-16 mr-8",label:"Height",id:"height",name:"height",value:l.height,onChange:this.handleChange,variant:"outlined",fullWidth:!0}),u.a.createElement(d.sb,{className:"mt-8 mb-16 mr-8",label:"Depth",id:"depth",name:"depth",value:l.depth,onChange:this.handleChange,variant:"outlined",fullWidth:!0})),u.a.createElement(d.sb,{className:"mt-8 mb-16",label:"Weight",id:"weight",name:"weight",value:l.weight,onChange:this.handleChange,variant:"outlined",fullWidth:!0}),u.a.createElement(d.sb,{className:"mt-8 mb-16",label:"Extra Shipping Fee",id:"extraShippingFee",name:"extraShippingFee",value:l.extraShippingFee,onChange:this.handleChange,variant:"outlined",InputProps:{startAdornment:u.a.createElement(d.J,{position:"start"},"$")},fullWidth:!0}))),innerScroll:!0})}}]),t}(s.Component);t.default=Object(y.a)("eCommerceApp",w.a)(Object(m.withStyles)(function(e){return{productImageFeaturedStar:{position:"absolute",top:0,right:0,color:h.orange[400],opacity:0},productImageItem:{transitionProperty:"box-shadow",transitionDuration:e.transitions.duration.short,transitionTimingFunction:e.transitions.easing.easeInOut,"&:hover":{boxShadow:e.shadows[5],"& $productImageFeaturedStar":{opacity:.8}},"&.featured":{pointerEvents:"none",boxShadow:e.shadows[3],"& $productImageFeaturedStar":{opacity:1},"&:hover $productImageFeaturedStar":{opacity:1}}}}},{withTheme:!0})(Object(g.g)(Object(E.a)(function(e){return{product:e.eCommerceApp.product}},function(e){return Object(b.c)({getProduct:P.k,newProduct:P.m,saveProduct:P.o},e)})(S))))}}]);