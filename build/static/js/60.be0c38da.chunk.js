(window.webpackJsonp=window.webpackJsonp||[]).push([[60],{2021:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=o(a(0)),c=o(a(2));function o(e){return e&&e.__esModule?e:{default:e}}var i=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));a.reCalculateColumnCount=a.reCalculateColumnCount.bind(a);var n=void 0;return n=a.props.breakpointCols&&a.props.breakpointCols.default?a.props.breakpointCols.default:2,a.state={columnCount:n},a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),l(t,[{key:"componentDidMount",value:function(){this.reCalculateColumnCount(),window&&window.addEventListener("resize",this.reCalculateColumnCount)}},{key:"componentWillReceiveProps",value:function(){this.reCalculateColumnCount()}},{key:"componentWillUnmount",value:function(){window&&window.removeEventListener("resize",this.reCalculateColumnCount)}},{key:"reCalculateColumnCount",value:function(){var e=window&&window.innerWidth||1/0,t=this.props.breakpointCols;parseInt(t)>0&&(t={default:t});var a=1/0,n=t.default||2;for(var l in t){var r=parseInt(l);r>0&&e<=r&&r<a&&(a=r,n=t[l])}n=Math.max(1,parseInt(n)||1),this.state.columnCount!==n&&this.setState({columnCount:n})}},{key:"itemsInColumns",value:function(){for(var e=this.state.columnCount,t=new Array(e),a=this.props.children||[],n=0;n<a.length;n++){var l=n%e;t[l]||(t[l]=[]),t[l].push(a[n])}return t}},{key:"renderColumns",value:function(){var e=this.props,t=e.column,a=e.columnClassName,l=this.itemsInColumns(),c=100/l.length+"%";return l.map(function(e,l){return r.default.createElement("div",n({key:l,className:a,style:{width:c}},t),e)})}},{key:"render",value:function(){var e=this.props,t=(e.breakpointCols,e.columnClassName,e.column,function(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}(e,["breakpointCols","columnClassName","column"]));return r.default.createElement("div",t,this.renderColumns())}}]),t}();i.propTypes={breakpointCols:c.default.object,columnClassName:c.default.string},i.defaultProps={breakpointCols:{},className:"my-masonry-grid",columnClassName:"my-masonry-grid_column"},t.default=i},2645:function(e,t,a){"use strict";a.r(t);var n=a(12),l=a(13),r=a(15),c=a(14),o=a(16),i=a(0),s=a.n(i),u=a(4),m=a(19),p=a(109),d=a(20),h=a(290),f=a(53),b=a.n(f),v="[NOTES APP] GET NOTES",E="[NOTES APP] SET SEARCH TEXT",g="[NOTES APP] OPEN NOTE DIALOG",y="[NOTES APP] CLOSE NOTE DIALOG",C="[NOTES APP] CREATE NOTE",O="[NOTES APP] UPDATE NOTE",N="[NOTES APP] REMOVE NOTE",x="[NOTES APP] TOGGLE VARIATE DESC SIZE";function k(){var e=b.a.get("/api/notes-app/notes");return function(t){return e.then(function(e){return t({type:v,payload:e.data})})}}function w(e){return{type:E,searchText:e.target.value}}function j(){return{type:E,searchText:""}}function S(){return{type:x}}function D(e){return{type:g,payload:e}}function T(){return{type:y}}function L(e){var t=b.a.post("/api/notes-app/create-note",{note:e});return function(e){return t.then(function(t){e({type:C,note:t.data})})}}function A(e){var t=b.a.post("/api/notes-app/update-note",{note:e});return function(e){return t.then(function(t){return e({type:O,note:t.data})})}}function I(e){var t=b.a.post("/api/notes-app/remove-note",{noteId:e});return function(a){return t.then(function(){a({type:N,id:e})})}}var z="[NOTES APP] GET LABELS",P="[NOTES APP] LABELS DIALOG OPEN",G="[NOTES APP] LABELS DIALOG CLOSE",_="[NOTES APP] LABELS UPDATE LABELS";function H(){var e=b.a.get("/api/notes-app/labels");return function(t){return e.then(function(e){return t({type:z,payload:e.data})})}}function M(e){var t=b.a.post("/api/notes-app/update-labels",{labels:Object.values(e)});return function(e){return t.then(function(t){return e({type:_,payload:t.data})})}}function F(){return{type:P}}function R(){return{type:G}}var U=a(36),B=a(6),W=a(9),q={entities:{},searchText:"",noteDialogId:null,variateDescSize:!0},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(B.a)({},e,{entities:W.a.keyBy(t.payload,"id")});case E:return Object(B.a)({},e,{searchText:t.searchText});case x:return Object(B.a)({},e,{variateDescSize:!e.variateDescSize});case g:return Object(B.a)({},e,{noteDialogId:t.payload});case y:return Object(B.a)({},e,{noteDialogId:null});case C:return Object(B.a)({},e,{entities:W.a.cloneDeep(W.a.assign(Object(U.a)({},t.note.id,t.note),e.entities))});case N:return Object(B.a)({},e,{entities:W.a.cloneDeep(W.a.omit(e.entities,[t.id])),noteDialogId:null});case O:return Object(B.a)({},e,{entities:W.a.cloneDeep(W.a.set(e.entities,t.note.id,t.note))});default:return e}},V={entities:{},labelsDialogOpen:!1},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z:case _:return Object(B.a)({},e,{entities:W.a.keyBy(t.payload,"id")});case P:return Object(B.a)({},e,{labelsDialogOpen:!0});case G:return Object(B.a)({},e,{labelsDialogOpen:!1});default:return e}},J=Object(m.d)({notes:Q,labels:Y}),X=a(1),Z=a(86),K=a.n(Z),$=a(5),ee=a.n($),te=function(e){var t=e.date,a=e.className,n=e.classes,l=e.onDelete;return t?s.a.createElement(X.i,{icon:s.a.createElement(X.G,{className:"text-16 mr-0"},"access_time"),label:K()(t).format("MMM DD YY, h:mm A"),classes:Object(B.a)({root:ee()("h-24",a),label:"pl-4 pr-6 py-4 text-11",deleteIcon:"w-16 ml-0"},n),variant:"outlined",onDelete:l}):null},ae=a(26);var ne=Object(d.b)(function(e){return{labels:e.notesApp.labels.entities}})(function(e){var t=e.labels,a=e.id,n=e.className,l=e.classes,r=e.onDelete,c=e.linkable;if(!t)return null;var o=t[a];if(!o)return null;var i=c?{component:ae.a,onClick:function(e){e.stopPropagation()},to:"/apps/notes/labels/".concat(o.handle,"/").concat(o.id)}:{};return s.a.createElement(X.i,Object.assign({},i,{label:o.name,classes:Object(B.a)({root:ee()("h-24",n),label:"px-6 py-4 text-11",deleteIcon:"w-16 ml-0"},l),variant:"outlined",onDelete:r}))});var le=function(e){var t=e||{};return{id:t.id||u.A.generateGUID(),title:t.title||"",description:t.description||"",archive:t.archive||!1,image:t.image||"",time:t.time||null,reminder:t.reminder||null,checklist:t.checklist||[],labels:t.labels||[]}},re=a(18),ce=function(e){var t=e.item,a=e.onListItemChange,n=e.onListItemRemove;function l(e){a(W.a.setIn(t,e.target.name,"checkbox"===e.target.type?e.target.checked:e.target.value))}return t?s.a.createElement(X.N,{className:"p-0",key:t.id,dense:!0},s.a.createElement(X.h,{className:"p-0",checked:t.checked,tabIndex:-1,disableRipple:!0,name:"checked",onChange:l,color:"default"}),s.a.createElement(X.I,{className:ee()("flex flex-1 mx-8",t.checked&&"line-through opacity-50"),name:"text",value:t.text,onChange:l,disableUnderline:!0}),s.a.createElement(X.H,{className:"w-32 h-32 mx-4 p-0","aria-label":"Delete",onClick:function(){return n(t.id)}},s.a.createElement(X.G,{fontSize:"small"},"delete"))):null};var oe=function(e){var t=e||{};return{id:t.id||u.A.generateGUID(),checked:t.checked||!1,text:t.text||""}},ie=function(e){function t(){var e,a;Object(n.a)(this,t);for(var l=arguments.length,o=new Array(l),i=0;i<l;i++)o[i]=arguments[i];return(a=Object(r.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(o)))).state={text:""},a.handleChange=function(e){a.setState(W.a.setIn(a.state,e.target.name,"checkbox"===e.target.type?e.target.checked:e.target.value))},a.submit=function(e){e.preventDefault();var t=a.state.text;""!==t&&(a.props.onListItemAdd(new oe({text:t})),a.setState({text:""}))},a}return Object(o.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement("form",{onSubmit:this.submit},s.a.createElement(X.N,{className:"p-0",dense:!0},s.a.createElement(X.H,{className:"w-32 h-32 -ml-4 mr-4 p-0","aria-label":"Add",type:"submit"},s.a.createElement(X.G,{fontSize:"small"},"add")),s.a.createElement(X.I,{className:"flex flex-1",name:"text",value:this.state.text,onChange:this.handleChange,placeholder:"Add an item",disableUnderline:!0,autoFocus:!0})))}}]),t}(i.Component),se=function(e){var t=e.className,a=e.checklist,n=e.onCheckListChange;function l(e){n(a.map(function(t){return t.id===e.id?e:t}))}function r(e){n(a.filter(function(t){return t.id!==e}))}return a?s.a.createElement("div",{className:ee()("",t)},s.a.createElement(X.M,{dense:!0},a.map(function(e){return s.a.createElement(ce,{item:e,key:e.id,onListItemChange:l,onListItemRemove:r})}),s.a.createElement(ie,{onListItemAdd:function(e){n([].concat(Object(re.a)(a),[e]))}}))):null},ue=a(1911),me=a(1910),pe=function(e){var t=e.reminder,a=e.onChange;t=new Date(t);var n=null;return s.a.createElement(i.Fragment,null,s.a.createElement(X.H,{className:"w-32 h-32 mx-4 p-0",onClick:function(){n.open()}},s.a.createElement(X.G,{fontSize:"small"},"notifications_active")),s.a.createElement(ue.c,{utils:me.a},s.a.createElement(ue.b,{className:"hidden",ref:function(e){n=e},clearable:!0,showTodayButton:!0,disablePast:!0,value:t,onChange:a,DialogProps:{className:"prevent-add-close"}})))},de=function(e){var t=e.onChange;return s.a.createElement(i.Fragment,null,s.a.createElement("input",{accept:"image/*",className:"hidden",id:"button-file",type:"file",onChange:t}),s.a.createElement("label",{htmlFor:"button-file"},s.a.createElement(X.H,{className:"w-32 h-32 mx-4 p-0",component:"span"},s.a.createElement(X.G,{fontSize:"small"},"image"))))},he=a(208),fe=function(e){function t(){var e,a;Object(n.a)(this,t);for(var l=arguments.length,o=new Array(l),i=0;i<l;i++)o[i]=arguments[i];return(a=Object(r.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(o)))).state={anchorEl:null},a.handleMenuClick=function(e){a.setState({anchorEl:e.currentTarget})},a.handleMenuClose=function(){a.setState({anchorEl:null})},a.handleToggleLabel=function(e){a.props.onChange(W.a.xor(a.props.note.labels,[e]))},a}return Object(o.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.state.anchorEl,a=this.props,n=a.labels,l=a.note;return s.a.createElement("div",null,s.a.createElement(X.H,{className:"w-32 h-32 mx-4 p-0",onClick:this.handleMenuClick},s.a.createElement(X.G,{fontSize:"small"},"label")),s.a.createElement(X.X,{hideBackdrop:!0,open:Boolean(t),anchorEl:t,onClose:this.handleMenuClose,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},className:"pointer-events-none",classes:{paper:"pointer-events-auto py-8 prevent-add-close"}},s.a.createElement(X.j,{onClickAway:this.handleMenuClose},s.a.createElement(X.M,{className:"p-0"},Object.entries(n).map(function(t){var a=Object(he.a)(t,2),n=(a[0],a[1]);return s.a.createElement(X.N,{key:n.id,button:!0,dense:!0,onClick:function(){return e.handleToggleLabel(n.id)}},s.a.createElement(X.G,{className:"list-item-icon text-16",color:"action"},l.labels.includes(n.id)?"check_box":"check_box_outline_blank"),s.a.createElement(X.Q,{className:"truncate pl-8",primary:n.name,disableTypography:!0}))})))))}}]),t}(i.Component);var be=Object(d.b)(function(e){return{labels:e.notesApp.labels.entities}})(fe),ve=function(e){function t(){var e,a;Object(n.a)(this,t);for(var l=arguments.length,o=new Array(l),i=0;i<l;i++)o[i]=arguments[i];return(a=Object(r.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(o)))).state={note:W.a.merge({},new le,a.props.note,a.props.match.params.labelId?{labels:[a.props.match.params.labelId]}:null,"archive"===a.props.match.params.id?{archive:!0}:null),showList:!1},a.handleChange=function(e){a.setState(W.a.setIn(a.state,e.target.name,"checkbox"===e.target.type?e.target.checked:e.target.value))},a.handleOnCreate=function(e){a.props.onCreate&&a.props.onCreate(a.state.note)},a.handleToggleList=function(){a.setState({showList:!a.state.showList})},a.handleDateChange=function(e){a.setState(W.a.setIn(a.state,"note.reminder",e))},a.handleChecklistChange=function(e){a.setState(W.a.setIn(a.state,"note.checklist",e))},a.handleRemoveLabel=function(e){a.setState(W.a.setIn(a.state,"note.labels",a.state.note.labels.filter(function(t){return t!==e})))},a.handleLabelsChange=function(e){a.setState(W.a.setIn(a.state,"note.labels",e))},a.handleRemoveImage=function(e){a.setState(W.a.setIn(a.state,"note.image",""))},a.handleArchiveToggle=function(e){a.setState(W.a.setIn(a.state,"note.archive",!a.state.archive)),"new"===a.props.variant&&setTimeout(function(){return a.handleOnCreate()})},a.handleUploadChange=function(e){var t=e.target.files[0],n=new FileReader;n.readAsBinaryString(t),n.onload=function(){a.setState(W.a.setIn(a.state,"note.image","data:".concat(t.type,";base64,").concat(btoa(n.result))))},n.onerror=function(){console.log("error on load image")}},a}return Object(o.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(e,t,a){t.note&&this.state.note&&!W.a.isEqual(t.note,this.state.note)&&this.props.onChange&&this.props.onChange(this.state.note)}},{key:"newFormButtonDisabled",value:function(){var e=this.state.note;return""===e.title&&""===e.image&&""===e.description&&0===e.checklist.length}},{key:"render",value:function(){var e=this,t=this.state,a=t.note,n=t.showList,l=this.props.variant;return a?s.a.createElement("div",{className:"flex flex-col w-full"},s.a.createElement(u.t,{className:"flex flex-auto w-full max-h-640"},s.a.createElement("div",{className:"w-full"},a.image&&""!==a.image&&s.a.createElement("div",{className:"relative"},s.a.createElement("img",{src:a.image,className:"w-full block",alt:"note"}),s.a.createElement(X.v,{className:"absolute pin-r pin-b m-8",variant:"extended",size:"small",color:"secondary","aria-label":"Delete Image",onClick:this.handleRemoveImage},s.a.createElement(X.G,{fontSize:"small"},"delete"))),s.a.createElement("div",{className:"p-16 pb-12"},s.a.createElement(X.I,{className:"font-bold",placeholder:"Title",type:"text",name:"note.title",value:a.title,onChange:this.handleChange,disableUnderline:!0,fullWidth:!0})),s.a.createElement("div",{className:"p-16 pb-12"},s.a.createElement(X.I,{placeholder:"Take a note...",multiline:!0,rows:"4",name:"note.description",value:a.description,onChange:this.handleChange,disableUnderline:!0,fullWidth:!0,autoFocus:!0})),(a.checklist.length>0||n)&&s.a.createElement("div",{className:"px-16"},s.a.createElement(se,{checklist:a.checklist,onCheckListChange:this.handleChecklistChange})),(a.labels||a.reminder||a.time)&&s.a.createElement("div",{className:"flex flex-wrap w-full p-16 pb-12"},a.reminder&&s.a.createElement(te,{className:"mt-4 mr-4",date:a.reminder}),a.labels&&a.labels.map(function(t){return s.a.createElement(ne,{id:t,key:t,className:"mt-4 mr-4",onDelete:function(){return e.handleRemoveLabel(t)}})}),a.time&&s.a.createElement(X.vb,{color:"textSecondary",className:"text-12 ml-auto mt-8 mr-4"},"Edited: ",K()(a.time).format("MMM DD YY, h:mm A"))))),s.a.createElement("div",{className:"flex flex-auto justify-between items-center h-48"},s.a.createElement("div",{className:"flex items-center px-4"},s.a.createElement(X.ub,{title:"Remind me",placement:"bottom"},s.a.createElement("div",null,s.a.createElement(pe,{reminder:a.reminder,onChange:this.handleDateChange}))),s.a.createElement(X.ub,{title:"Add image",placement:"bottom"},s.a.createElement("div",null,s.a.createElement(de,{onChange:this.handleUploadChange}))),s.a.createElement(X.ub,{title:"Add checklist",placement:"bottom"},s.a.createElement(X.H,{className:"w-32 h-32 mx-4 p-0",onClick:this.handleToggleList},s.a.createElement(X.G,{fontSize:"small"},"playlist_add_check"))),s.a.createElement(X.ub,{title:"Change labels",placement:"bottom"},s.a.createElement("div",null,s.a.createElement(be,{note:a,onChange:this.handleLabelsChange}))),s.a.createElement(X.ub,{title:a.archive?"Unarchive":"Archive",placement:"bottom"},s.a.createElement("div",null,s.a.createElement(X.H,{className:"w-32 h-32 mx-4 p-0",onClick:this.handleArchiveToggle,disabled:this.newFormButtonDisabled()},s.a.createElement(X.G,{fontSize:"small"},a.archive?"unarchive":"archive"))))),s.a.createElement("div",{className:"flex items-center px-4"},"new"===l?s.a.createElement(X.c,{className:"m-4",onClick:this.handleOnCreate,variant:"outlined",size:"small",disabled:this.newFormButtonDisabled()},"Create"):s.a.createElement(i.Fragment,null,s.a.createElement(X.ub,{title:"Delete Note",placement:"bottom"},s.a.createElement(X.H,{className:"w-32 h-32 mx-4 p-0",onClick:this.props.onRemove},s.a.createElement(X.G,{fontSize:"small"},"delete"))),s.a.createElement(X.c,{className:"m-4",onClick:this.props.onClose,variant:"outlined",size:"small"},"Close"))))):null}}]),t}(i.Component);ve.defaultProps={variant:"edit",note:null};var Ee=Object(p.g)(ve);function ge(e){return s.a.createElement(X.cb,Object.assign({direction:"up"},e))}var ye=function(e){function t(){var e,a;Object(n.a)(this,t);for(var l=arguments.length,o=new Array(l),i=0;i<l;i++)o[i]=arguments[i];return(a=Object(r.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(o)))).handleOnChange=W.a.debounce(function(e){a.props.updateNote(e)},600),a.handleOnRemove=function(){a.props.removeNote(a.props.notes.noteDialogId)},a}return Object(o.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.notes,a=e.closeNoteDialog;return s.a.createElement(X.l,{classes:{paper:"w-full m-24 rounded-8"},TransitionComponent:ge,onClose:a,open:Boolean(t.noteDialogId)},s.a.createElement(Ee,{note:t.entities[t.noteDialogId],onChange:this.handleOnChange,onClose:a,onRemove:this.handleOnRemove}))}}]),t}(i.Component);var Ce=Object(d.b)(function(e){return{notes:e.notesApp.notes}},function(e){return Object(m.c)({closeNoteDialog:T,updateNote:A,removeNote:I},e)})(ye);var Oe=function(e){var t=e||{};return{id:t.id||u.A.generateGUID(),name:t.name||"",get handle(){return u.A.handleize(this.name)}}},Ne=function(e){function t(){var e,a;Object(n.a)(this,t);for(var l=arguments.length,o=new Array(l),i=0;i<l;i++)o[i]=arguments[i];return(a=Object(r.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(o)))).state={labels:a.props.labels,newLabelText:""},a.handleOnChange=W.a.debounce(function(e){a.props.updateLabels(e)},600),a.handleOnDelete=function(e){a.setState({labels:W.a.omit(a.state.labels,[e.id])})},a.handleLabelChange=function(e,t){var n=new Oe(W.a.setIn(t,e.target.name,e.target.value));a.setState({labels:W.a.setIn(a.state.labels,n.id,n)})},a.handleNewLabelChange=function(e){a.setState({newLabelText:e.target.value})},a.handleNewLabel=function(){var e=new Oe({name:a.state.newLabelText});a.setState({labels:W.a.setIn(a.state.labels,e.id,e)}),a.setState({newLabelText:""})},a}return Object(o.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(e,t,a){W.a.isEqual(e.labels,this.props.labels)||W.a.isEqual(this.state.labels,this.props.labels)||this.setState({labels:this.props.labels}),t.labels&&this.state.labels&&!W.a.isEqual(t.labels,this.state.labels)&&!W.a.isEqual(this.state.labels,this.props.labels)&&this.handleOnChange(this.state.labels)}},{key:"render",value:function(){var e=this,t=this.props,a=t.closeLabelsDialog,n=t.labelsDialogOpen,l=this.state,r=l.labels,c=l.newLabelText;return s.a.createElement(X.l,{classes:{paper:"w-full max-w-320 p-16 m-24 rounded-8"},onClose:a,open:n},s.a.createElement(X.vb,{className:"text-16 mb-8 font-600"},"Edit Labels"),s.a.createElement(X.M,{dense:!0},s.a.createElement(X.N,{className:"p-0 mb-16",dense:!0},s.a.createElement(X.G,{className:"list-item-icon text-16",color:"action"},"add"),s.a.createElement(X.I,{className:ee()("flex flex-1 mx-8"),name:"name",value:c,onChange:this.handleNewLabelChange,placeholder:"Create new label"}),s.a.createElement(X.H,{className:"w-32 h-32 mx-4 p-0","aria-label":"Delete",onClick:this.handleNewLabel,disabled:""===c},s.a.createElement(X.G,{fontSize:"small"},"check"))),Object.entries(r).map(function(t){var a=Object(he.a)(t,2),n=(a[0],a[1]);return s.a.createElement(X.N,{className:"p-0",key:n.id,dense:!0},s.a.createElement(X.G,{className:"list-item-icon text-16",color:"action"},"label"),s.a.createElement(X.I,{className:ee()("flex flex-1 mx-8"),name:"name",value:n.name,onChange:function(t){return e.handleLabelChange(t,n)},disableUnderline:!0}),s.a.createElement(X.H,{className:"w-32 h-32 mx-4 p-0","aria-label":"Delete",onClick:function(t){return e.handleOnDelete(n)}},s.a.createElement(X.G,{fontSize:"small"},"delete")))})))}}]),t}(i.Component);var xe=Object(d.b)(function(e){var t=e.notesApp;return{labels:t.labels.entities,labelsDialogOpen:t.labels.labelsDialogOpen}},function(e){return Object(m.c)({closeLabelsDialog:R,updateLabels:M},e)})(Ne),ke=a(2021),we=a.n(ke),je={1:{fontSize:14,lineHeight:19},2:{fontSize:18,lineHeight:28},3:{fontSize:24,lineHeight:36},4:{fontSize:36,lineHeight:48},5:{fontSize:48,lineHeight:60}};var Se=function(e,t,a){if(t){t.style.fontSize=null,t.style.lineHeight=null;var n=t.clientWidth;if(0!==n&&a){var l,r=document.createElement("div");r.style.display="inline-block",r.style.fontSize="10px",r.style.fontWeight="200",r.style.lineHeight="10px",r.style.position="absolute",r.style.whiteSpace="pre-wrap",r.style.wordWrap="break-word",r.style.pointerEvents="none",r.style.visibility="hidden",document.body.appendChild(r);var c=e.split(" ").map(function(e){return r.textContent=e.toString(),r.clientWidth}),o=Math.max.apply(Math,c),i=Math.floor(10*n/o);i<18?l=1:18<=i&&i<24?l=2:24<=i&&i<36?l=3:36<=i&&i<48?l=4:i>=48&&(l=5);var s=je[l],u=s.lineHeight,m=s.fontSize;r.textContent=e,r.style.width=n+"px",r.style.fontSize=m+"px",r.style.lineHeight=u+"px";var p=r.clientHeight/u;4<p&&p<6?l=4:6<=p&&p<9?l=3:9<=p&&p<11?l=2:11<=p&&(l=1),document.body.removeChild(r),u=je[l].lineHeight,m=je[l].fontSize,t.style.fontSize=m+"px",t.style.lineHeight=u+"px"}}};var De=Object(d.b)(null,function(e){return Object(m.c)({openNoteDialog:D},e)})(function(e){var t=e.className,a=e.note,n=e.variateDescSize,l=e.openNoteDialog;return s.a.createElement(u.d,{animation:"transition.fadeIn",duration:400,delay:100},s.a.createElement(X.d,{className:ee()("cursor-pointer",t),onClick:function(){return l(a.id)}},a.image&&""!==a.image&&s.a.createElement("img",{src:a.image,className:"w-full block",alt:"note"}),a.title&&""!==a.title&&s.a.createElement(X.vb,{className:"p-16 pb-8 text-14 font-bold"},a.title),a.description&&""!==a.description&&s.a.createElement(X.vb,{className:"py-8 px-16",component:"div"},s.a.createElement("div",{className:ee()("w-full break-words",n?"font-200":"text-14"),ref:function(e){setTimeout(function(){return Se(a.description,e,n)})}},a.description)),a.checklist&&a.checklist.length>0&&s.a.createElement("ul",{className:"py-8 px-16 flex flex-wrap list-reset"},a.checklist.map(function(e){return s.a.createElement("li",{key:e.id,className:"flex items-center w-full"},s.a.createElement(X.G,{color:"action",className:"mr-8 text-16"},e.checked?"check_box_outline":"check_box_outline_blank"),s.a.createElement(X.vb,{className:ee()("truncate",e.checked&&"line-through"),color:e.checked?"textSecondary":"default"},e.text))})),(a.labels.length>0||a.reminder)&&s.a.createElement("div",{className:"py-8 px-16 flex flex-wrap w-full"},a.reminder&&s.a.createElement(te,{className:"mt-4 mr-4",date:a.reminder}),a.labels.map(function(e){return s.a.createElement(ne,{id:e,key:e,className:"mt-4 mr-4",linkable:!0})}))))}),Te=function(e){function t(){var e,a;Object(n.a)(this,t);for(var l=arguments.length,o=new Array(l),i=0;i<l;i++)o[i]=arguments[i];return(a=Object(r.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(o)))).state={selectedNotesMenu:null,data:[]},a}return Object(o.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.variateDescSize,t=this.state.data;return t&&0!==t.length?s.a.createElement("div",{className:"flex flex-wrap w-full"},s.a.createElement(we.a,{breakpointCols:{default:6,1920:5,1600:4,1366:3,1280:4,960:3,600:2,480:1},className:"my-masonry-grid flex w-full",columnClassName:"my-masonry-grid_column flex flex-col p-8"},t.map(function(t){return s.a.createElement(De,{key:t.id,note:t,className:"w-full rounded-8 shadow-none border-1 mb-16",variateDescSize:e})}))):s.a.createElement("div",{className:"flex items-center justify-center h-full"},s.a.createElement(X.vb,{color:"textSecondary",variant:"h5"},"There are no notes!"))}}],[{key:"getDerivedStateFromProps",value:function(e){var t=e.notes,a=e.searchText,n=e.match.params,l=n.id,r=n.labelId,c=Object.keys(t).map(function(e){return t[e]});return r&&(c=c.filter(function(e){return e.labels.includes(r)&&!e.archive})),l||(c=c.filter(function(e){return!e.archive})),"archive"===l&&(c=c.filter(function(e){return e.archive})),"reminders"===l&&(c=c.filter(function(e){return Boolean(e.reminder)&&!e.archive})),0===a.length?{data:c}:{data:c=u.A.filterArrayByString(c,a)}}}]),t}(i.Component);var Le=Object(p.g)(Object(d.b)(function(e){var t=e.notesApp;return{notes:t.notes.entities,variateDescSize:t.notes.variateDescSize,searchText:t.notes.searchText}},function(e){return Object(m.c)({getNotes:k,openNoteDialog:D,closeNoteDialog:T,removeNote:I},e)})(Te)),Ae=a(59),Ie={trigger:s.a.createElement(X.H,{className:"w-64 h-64"},s.a.createElement(X.G,null,"search"))},ze=function(e){function t(){var e,a;Object(n.a)(this,t);for(var l=arguments.length,o=new Array(l),i=0;i<l;i++)o[i]=arguments[i];return(a=Object(r.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(o)))).state={search:!1},a.showSearch=function(){a.setState({search:!0}),document.addEventListener("keydown",a.escFunction,!1)},a.hideSearch=function(){a.setState({search:!1}),a.props.resetSearchText(),document.removeEventListener("keydown",a.escFunction,!1)},a.escFunction=function(e){27===e.keyCode&&a.hideSearch()},a.handleClickAway=function(e){a.hideSearch()},a}return Object(o.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.className,n=e.setSearchText,l=e.searchText;return s.a.createElement("div",{className:ee()(t.root,"flex",a)},s.a.createElement(X.ub,{title:"Click to search",placement:"bottom"},s.a.createElement("div",{onClick:this.showSearch},this.props.trigger)),this.state.search&&s.a.createElement(X.j,{onClickAway:this.handleClickAway},s.a.createElement("div",{className:ee()(t.inputWrapper,"absolute pin-l pin-r pin-t pin-b h-full z-9999 px-8 sm:px-24")},s.a.createElement("div",{className:"flex items-center w-full h-full",ref:this.handleRef},s.a.createElement(X.I,{placeholder:"Search for anything",className:"flex flex-1 py-0 pr-16 h-64",disableUnderline:!0,fullWidth:!0,value:l,inputProps:{"aria-label":"Search"},onChange:n,autoFocus:!0}),s.a.createElement(X.H,{onClick:this.hideSearch,className:"mx-8"},s.a.createElement(X.G,null,"close"))))))}}]),t}(i.Component);ze.defaultProps=Ie;var Pe=Object(Ae.withStyles)(function(e){return{root:{},inputWrapper:{backgroundColor:e.palette.primary.dark}}})(Object(p.g)(Object(d.b)(function(e){return{searchText:e.notesApp.notes.searchText}},function(e){return Object(m.c)({setSearchText:w,resetSearchText:j},e)})(ze))),Ge=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.pageLayout,a=e.variateDescSize,n=e.toggleVariateDescSize;return s.a.createElement("div",{className:"flex flex-1 items-center justify-between p-8 sm:p-24 relative"},s.a.createElement("div",{className:"flex flex-shrink items-center sm:w-224"},s.a.createElement(X.F,{lgUp:!0},s.a.createElement(X.H,{onClick:function(e){return t().toggleLeftSidebar()},"aria-label":"open left sidebar"},s.a.createElement(X.G,null,"menu"))),s.a.createElement("div",{className:"flex items-center"},s.a.createElement(u.d,{animation:"transition.expandIn",delay:300},s.a.createElement(X.G,{className:"text-32 mr-12"},"account_box")),s.a.createElement(u.d,{animation:"transition.slideLeftIn",delay:300},s.a.createElement(X.vb,{variant:"h6",className:"hidden sm:flex"},"Notes")))),s.a.createElement("div",{className:"flex flex-1 items-center justify-end"},s.a.createElement(X.ub,{title:"Toggle Variate Description Size"},s.a.createElement(X.H,{onClick:n},s.a.createElement(X.G,{color:a?"action":"disabled"},"format_size"))),s.a.createElement(Pe,null)))}}]),t}(i.Component);var _e=Object(d.b)(function(e){return{variateDescSize:e.notesApp.notes.variateDescSize}},function(e){return Object(m.c)({toggleVariateDescSize:S},e)})(Ge),He=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.labels,n=e.openLabelsDialog;return s.a.createElement("div",{className:"py-24 lg:p-24 lg:pr-4"},s.a.createElement(u.d,{animation:"transition.slideLeftIn",delay:200},s.a.createElement(X.W,{elevation:1,className:ee()(t.paper,"rounded-8")},s.a.createElement(X.M,null,s.a.createElement(X.N,{button:!0,component:ae.b,to:"/apps/notes",exact:!0,activeClassName:"active",className:t.listItem},s.a.createElement(X.G,{className:"list-item-icon text-16",color:"action"},"label"),s.a.createElement(X.Q,{className:"truncate pr-0",primary:"Notes",disableTypography:!0})),s.a.createElement(X.N,{button:!0,component:ae.b,to:"/apps/notes/reminders",exact:!0,activeClassName:"active",className:t.listItem},s.a.createElement(X.G,{className:"list-item-icon text-16",color:"action"},"notifications"),s.a.createElement(X.Q,{className:"truncate pr-0",primary:"Reminders",disableTypography:!0}))),s.a.createElement(X.q,null),s.a.createElement(X.M,null,s.a.createElement(X.R,null,"Labels"),Object.entries(a).map(function(e){var a=Object(he.a)(e,2),n=(a[0],a[1]);return s.a.createElement(X.N,{key:n.id,button:!0,component:ae.b,to:"/apps/notes/labels/".concat(n.handle,"/").concat(n.id),exact:!0,activeClassName:"active",className:t.listItem},s.a.createElement(X.G,{className:"list-item-icon text-16",color:"action"},"label"),s.a.createElement(X.Q,{className:"truncate pr-0",primary:n.name,disableTypography:!0}))}),s.a.createElement(X.N,{button:!0,className:t.listItem,onClick:n},s.a.createElement(X.G,{className:"list-item-icon text-16",color:"action"},"edit"),s.a.createElement(X.Q,{className:"truncate pr-0",primary:"Edit Labels",disableTypography:!0}))),s.a.createElement(X.q,null),s.a.createElement(X.M,null,s.a.createElement(X.N,{button:!0,component:ae.b,to:"/apps/notes/archive",activeClassName:"active",className:t.listItem},s.a.createElement(X.G,{className:"list-item-icon text-16",color:"action"},"archive"),s.a.createElement(X.Q,{className:"truncate pr-0",primary:"Archive",disableTypography:!0}))))))}}]),t}(i.Component);var Me=Object(Ae.withStyles)(function(e){return{paper:Object(U.a)({},e.breakpoints.down("md"),{boxShadow:"none"}),listItem:{color:"inherit!important",textDecoration:"none!important",height:40,width:"calc(100% - 16px)",borderRadius:"0 20px 20px 0",paddingLeft:24,paddingRight:12,"&.active":{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText+"!important",pointerEvents:"none","& .list-item-icon":{color:"inherit"}}}}},{withTheme:!0})(Object(p.g)(Object(d.b)(function(e){return{labels:e.notesApp.labels.entities}},function(e){return Object(m.c)({openLabelsDialog:F},e)})(He))),Fe=function(e){function t(){var e,a;Object(n.a)(this,t);for(var l=arguments.length,o=new Array(l),i=0;i<l;i++)o[i]=arguments[i];return(a=Object(r.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(o)))).state={formOpen:!1},a.handleFormOpen=function(){a.setState({formOpen:!0}),document.addEventListener("keydown",a.escFunction,!1)},a.handleFormClose=function(){a.state.formOpen&&(a.setState({formOpen:!1}),document.removeEventListener("keydown",a.escFunction,!1))},a.handleCreate=function(e){a.props.createNote(e),a.handleFormClose()},a.escFunction=function(e){27===e.keyCode&&a.handleFormClose()},a.handleClickAway=function(e){var t=document.querySelector(".prevent-add-close");!!t&&t.contains(e.target)||a.handleFormClose()},a}return Object(o.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.state.formOpen;return s.a.createElement(X.j,{onClickAway:this.handleClickAway},s.a.createElement(X.W,{className:ee()(e.button,"flex items-center w-full max-w-512 mt-8 mb-16 min-h-48"),elevation:1},t?s.a.createElement(Ee,{onCreate:this.handleCreate,variant:"new"}):s.a.createElement(X.vb,{className:"w-full px-16 py-12 font-500 text-16 w-full",color:"textSecondary",onClick:this.handleFormOpen},"Take a note..")))}}]),t}(i.Component);var Re=Object(d.b)(null,function(e){return Object(m.c)({createNote:L},e)})(Object(Ae.withStyles)(function(e){return{button:{cursor:"text"}}},{withTheme:!0})(Fe)),Ue=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.getNotes(),this.props.getLabels()}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement(u.s,{classes:{contentCardWrapper:"p-16 sm:p-24 pb-80",contentCard:"min-h-full",content:"flex",leftSidebar:"w-256 border-0",header:"min-h-72 h-72"},header:s.a.createElement(_e,{pageLayout:function(){return e.pageLayout}}),content:s.a.createElement("div",{className:"flex flex-col w-full items-center"},s.a.createElement(Re,null),s.a.createElement(Le,null),s.a.createElement(Ce,null),s.a.createElement(xe,null)),leftSidebarContent:s.a.createElement(Me,null),sidebarInner:!0,onRef:function(t){e.pageLayout=t},innerScroll:!0}))}}]),t}(i.Component);t.default=Object(h.a)("notesApp",J)(Object(p.g)(Object(d.b)(null,function(e){return Object(m.c)({getNotes:k,getLabels:H},e)})(Ue)))}}]);